<!DOCTYPE html>
<html lang="{{ page_language }}" prefix="og: https://ogp.me/ns#">
	{# En-tête du site #}
	<head>
		{# Méta-données du document #}
		<meta charset="utf-8" />
		<meta name="Author" content="Florian Trayon" />
		<meta name="description" content="{{ head_phrases["head_description"] }}" />
		<meta name="keywords" lang="{{ page_language }}" content="console, source, webadmin, panel, custom, gmod, csgo, rust" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />

		<meta property="og:type" content="website" />
		<meta property="og:url" content="{{ global_url }}" />
		<meta property="og:title" content="{{ head_phrases["head_title"] }}" />
		<meta property="og:description" content="{{ head_phrases["head_description"] }}" />
		<meta property="og:image" content="github_opengraph_url" />

		<meta property="twitter:card" content="summary_large_image" />
		<meta property="twitter:url" content="{{ global_url }}" />
		<meta property="twitter:title" content="{{ head_phrases["head_title"] }}" />
		<meta property="twitter:description" content="{{ head_phrases["head_description"] }}" />
		<meta property="twitter:image" content="github_opengraph_url" />

		{# Titre du document #}
		<title>{{ head_phrases["head_title"] }}</title>

		{# Pré-connexion des ressources externes #}
		<link rel="preconnect" href="https://fonts.gstatic.com" />
		<link rel="preconnect" href="https://fonts.googleapis.com" />
		<link rel="preconnect" href="https://maxcdn.bootstrapcdn.com" />
		<link rel="preconnect" href="https://www.google-analytics.com" />

		{# Polices & feuilles de style CSS #}
		<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto:wght@100;300" crossorigin="anonymous" />
		<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Source+Sans+Pro:wght@400;700" crossorigin="anonymous" />
		<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Source+Code+Pro:wght@300;500" crossorigin="anonymous" />
		<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/normalize.css@8.0.1/normalize.min.css" crossorigin="anonymous" />
		<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.1/font/bootstrap-icons.css" crossorigin="anonymous" />

		<link rel="stylesheet" href="styles/phone/{{ global_file }}.css" media="screen and (max-width: 768px)" />
		<link rel="stylesheet" href="styles/tablet/{{ global_file }}.css" media="screen and (min-width: 769px) and (max-width: 1023px)" />
		<link rel="stylesheet" href="styles/desktop/{{ global_file }}.css" media="screen and (min-width: 1024px)"  />

		{# Scripts JavaScript #}
		<script src="https://www.googletagmanager.com/gtag/js?id=G-56KCE1D8JG" crossorigin="anonymous" defer></script>
		<script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" crossorigin="anonymous" defer></script>
		<script src="https://cdn.jsdelivr.net/npm/chart.js@3.7.1/dist/chart.min.js" crossorigin="anonymous" defer></script>
		<script src="https://cdn.jsdelivr.net/npm/chartjs-adapter-date-fns@2.0.0/dist/chartjs-adapter-date-fns.bundle.min.js" crossorigin="anonymous" defer></script>

		<script>
			// Message d'échec si les vérifications côté client échouent.
			const client_check_failed = "{{ form_phrases["form_client_check_failed"]|escape }}";

			// Message d'échec si les vérifications côté serveur échouent.
			const server_check_failed = "{{ form_phrases["form_server_check_failed"]|escape }}";

			// Message d'erreur lorsqu'un message du formulaire de contact ne peut pas être envoyé.
			const form_contact_failed = "{{ form_phrases["form_contact_failed"]|escape }}";

			// Message signalant à l'utilisateur que les majuscules sont activées.
			const capslock_enabled = "{{ form_phrases["form_capslock_warning"]|escape }}";
		</script>

		{# Injection de code #}
		{% block javascript %} {% endblock %}

		<!--[if lte IE 9]>
			<script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
		<![endif]-->

		<script src="scripts/main.js" defer></script>
		<script src="scripts/{{ global_file }}.js" defer></script>

		{# Icône du document (16x16) #}
		<link rel="icon" href="assets/images/favicon.ico" type="image/x-icon" />
	</head>

	<body>
		{# Avertissement page sans JavaScript #}
		<noscript>{{ head_phrases["head_no_javascript"] }}</noscript>

		{# En-tête de la page #}
		<header>
			{% block header %}
				{# Logo du site #}
				<img src="assets/images/placeholder.svg" alt="Logo" />

				{# Titre du site #}
				<h1>{{ header_phrases["header_title"] }}</h1>

				{# Sous-titre du site #}
				<h2>{{ header_phrases["header_subtitle_" ~ global_file] }}</h2>

				{# Barre de recherche #}
				<div id="search">
					<i class="bi bi-search"></i>

					<span>{{ header_phrases["header_search_title"] }}</span>

					<input type="text" name="search" placeholder="{{ header_phrases["header_search_placeholder"] }}" maxlength="20" required />

					<ul>
						<li>Résultat 1</li>
						<li>Résultat 2</li>
						<li>Résultat 3</li>
					</ul>
				</div>

				{# État de connexion #}
				{# Note : apparaît seulement sur les comptes inscrits #}
				{% if user_identifier is not empty %}
					<a href="?target=user">
						<i class="bi bi-person-circle"></i>
						<span>{{ header_phrases["header_user_status"]|format(user_identifier|capitalize) }}</span>
					</a>
				{% endif %}
			{% endblock %}
		</header>

		<main>
			{# Barre de navigation #}
			{% block navigation %}
				<nav>
					{# Titre de la barre #}
					<h2>Navigation</h2>

					<ul>
						{# Liste des pages #}
						<li>
							{# Tableau de bord #}
							<a href="?target=dashboard">
								<i class="bi bi-kanban"></i>
								<span>{{ header_phrases["header_subtitle_dashboard"] }}</span>
							</a>
						</li>

						<li>
							{# Statistiques #}
							<a href="?target=statistics">
								<i class="bi bi-graph-up"></i>
								<span>{{ header_phrases["header_subtitle_statistics"] }}</span>
							</a>
						</li>

						<li>
							{# Configuration #}
							<a href="?target=configuration">
								<i class="bi bi-tools"></i>
								<span>{{ header_phrases["header_subtitle_configuration"] }}</span>
							</a>
						</li>

						<li>
							{# Actions et commandes #}
							<a href="?target=actions">
								<i class="bi bi-lightning"></i>
								<span>{{ header_phrases["header_subtitle_actions"] }}</span>
							</a>
						</li>

						<li>
							{# Console interactive #}
							<a href="?target=console">
								<i class="bi bi-code-slash"></i>
								<span>{{ header_phrases["header_subtitle_console"] }}</span>
							</a>
						</li>

						<li>
							{# Tâches planifiées #}
							<a href="?target=tasks">
								<i class="bi bi-calendar3"></i>
								<span>{{ header_phrases["header_subtitle_tasks"] }}</span>
							</a>
						</li>
					</ul>
				</nav>
			{% endblock %}

			{# Contenu de la page demandé #}
			{% block content %} {% endblock %}

			{# Formulaire de contact #}
			<section id="contact">
				{% include("form_contact.twig") %}
			</section>

			{# Notifications textuelles #}
			<div id="notifications">
				<i class="bi"></i>
				<span></span>
			</div>

			{# Conteneur du bouton des astuces #}
			<div id="tips">
				<button type="button">?</button>
				<span>{{ attribute(attribute(_context, global_file ~ "_phrases"), global_file ~ "_tips") }}</span>
			</div>
		</main>

		{# Pied-de-page du site #}
		<footer>
			{# Liste des options #}
			<ul>
				<li>
					{# Bouton de retour à l'accueil #}
					<a href="?target=index">
						<i class="bi bi-house-door"></i>
						<span>{{ footer_phrases["footer_home"] }}</span>
					</a>
				</li>

				<li>
					{# Bouton du plan du site #}
					<a href="index.php">
						<i class="bi bi-geo-alt"></i>
						<span>{{ footer_phrases["footer_sitemap"] }}</span>
					</a>
				</li>

				<li>
					{# Bouton du formulaire de contact #}
					<a href="javascript:void(0);">
						<i class="bi bi-envelope"></i>
						<span>{{ footer_phrases["footer_contact"] }}</span>
					</a>
				</li>

				<li>
					{# Bouton de la page d'assistance #}
					<a href="?target=help">
						<i class="bi bi-question-circle"></i>
						<span>{{ footer_phrases["footer_support"] }}</span>
					</a>
				</li>

				<li>
					{# Sélecteur des langues #}
					<i class="bi bi-translate"></i>
					<form method="POST">
						<ul>
							{% for code in language_codes %}
								<li>
									{# Récupération du nom de la langue #}
									{% set name = language_phrases["language_" ~ code|lower ] %}

									{# Création du bouton avec les informations #}
									<button type="submit" name="language" value="{{ code|upper }}">
										{% if code == "EN" %}
											{# Le drapeau britannique possède un code ISO différent #}
											<img src="assets/images/flags/gb.svg" alt="{{ name }}" />
										{% else %}
											{# Dans le cas contraire, on utilise le comportement par défaut #}
											<img src="assets/images/flags/{{ code|lower }}.svg" alt="{{ name }}" />
										{% endif %}

										<span>{{ name }}</span>
									</button>
								</li>
							{% endfor %}
						</ul>
					</form>
				</li>
			</ul>

			{# Indicateur de défilement #}
			{# Modification depuis le JavaScript #}
			<div>
				<div></div>
			</div>
		</footer>
	</body>
</html>